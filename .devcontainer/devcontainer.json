// See https://aka.ms/vscode-remote/devcontainer.json for format details.
{
	"dockerComposeFile": "../docker-compose.yml",
	"service": "pmm-managed-server",

	// "/" burns CPU by file indexing
	"workspaceFolder": "/root/go/src/github.com/percona/pmm-managed",

	"name": "pmm-managed",
	"extensions": [
		"bungcip.better-toml",
		"laurenttreguier.rpm-spec",
		"ms-vscode.go",
		"streetsidesoftware.code-spell-checker",
		"vscoss.vscode-ansible"
	],
	"settings": {
		"go.useLanguageServer": true,
		"go.inferGopath": true,
		"[go]": {
			"editor.snippetSuggestions": "none",
			"editor.formatOnSave": true,
			"editor.codeActionsOnSave": {
				"source.organizeImports": true
			}
		},
		"gopls": {
			"usePlaceholders": true
		}
	},
	"postCreateCommand": "time .devcontainer/install-dev-tools.sh"
}
